(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75c963d4"],{"196e":function(t,e,s){},3167:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container py-5 text-primary",staticStyle:{"max-width":"950px"}},[s("ul",{staticClass:"nav nav-tabs mt-1 mb-4 d-flex justify-content-center"},[s("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[s("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/products"}},[s("h4",[t._v("Products")])])],1),s("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[s("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/subjects"}},[s("h4",[t._v("Subjects")])])],1),s("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[s("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/scopes"}},[s("h4",[t._v("Scopes")])])],1)]),s("form",{staticClass:"my-4"},[s("div",{staticClass:"form-row d-flex justify-content-center"},[s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSubjectName,expression:"newSubjectName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Create a Subject..."},domProps:{value:t.newSubjectName},on:{input:function(e){e.target.composing||(t.newSubjectName=e.target.value)}}})]),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-success",attrs:{type:"button",disabled:t.newIsProcessing},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handlePostSubmit(e)}}},[s("h5",{staticClass:"m-0 text-center"},[t._v("Create")])])])])]),t.isLoading?s("Spinner"):s("div",{staticClass:"overflow-auto",staticStyle:{height:"500px"}},[s("table",{staticClass:"table table-hover text-center overflow-auto w-75 mx-auto",staticStyle:{"max-height":"500px"}},[s("thead",[s("tr",{staticClass:"table-warning"},[s("th",{attrs:{scope:"col"}},[t._v("Subject Name")]),s("th",{attrs:{scope:"col"}},[t._v("Edit")]),s("th",{attrs:{scope:"col"}},[t._v("Delete")])])]),s("tbody",t._l(t.subjects,(function(e){return s("tr",{key:e.id,staticClass:"table-light"},[s("td",[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!subject.isEditing"}],staticClass:"subject-name"},[t._v(" "+t._s(e.name)+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"subject.isEditing"}],staticClass:"subjectName"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"subject.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.name},on:{input:function(s){s.target.composing||t.$set(e,"name",s.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"subject.isEditing"}],staticClass:"cancel",on:{click:function(s){return t.handleCancel(e.id)}}},[t._v(" âœ• ")])])]),s("td",[s("button",{directives:[{name:"show",rawName:"v-show",value:!e.isEditing,expression:"!subject.isEditing"}],staticClass:"btn btn-info",attrs:{type:"button",disabled:t.editIsProcessing},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.toggleIsEditing(e.id)}}},[s("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1),s("button",{directives:[{name:"show",rawName:"v-show",value:e.isEditing,expression:"subject.isEditing"}],staticClass:"btn btn-info",attrs:{type:"button",disabled:t.editIsProcessing},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.updateSubject(e.id,e.name)}}},[t._v(" Save ")])]),s("td",[s("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.deleteIsProcessing},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteSubject(e.id)}}},[s("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])]),s("div",{staticClass:"d-flex justify-content-center mt-4"},[s("NavTabs")],1)],1)},a=[],i=(s("d81d"),s("b0c0"),s("5530")),c=(s("96cf"),s("1da1")),r=s("8bb1"),o=s("2375"),u=s("6437"),d=s("6672"),l=s("2fa3"),p={name:"Background-subject",components:{NavTabs:r["a"],Spinner:o["a"]},data:function(){return{subjects:[],isLoading:!0,deleteIsProcessing:!1,newIsProcessing:!1,editIsProcessing:!1,newSubjectName:""}},created:function(){this.fetchSubjects()},methods:{fetchSubjects:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].getSubjects();case 3:s=e.sent,t.subjects=s.data.subjects.map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{isEditing:!1,nameCached:""})})),t.isLoading=!1,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"Can't not get subjects data, please try again later"}),t.isLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},handlePostSubmit:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.newIsProcessing=!0,e.next=4,d["a"].postSubject({name:t.newSubjectName});case 4:s=e.sent,n=s.data,a=s.statusText,"OK"===a||"success"===n.status?(t.newIsProcessing=!1,l["a"].fire({icon:"success",title:n.message}),t.newSubjectName="",t.fetchSubjects()):"OK"===a&&"error"!==n.status||(t.newIsProcessing=!1,l["a"].fire({icon:"error",title:n.message})),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](0),t.newIsProcessing=!1,l["a"].fire({icon:"error",title:"Can't not submit, please try again later"}),t.newSubjectName="";case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},updateSubject:function(t,e){var s=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,s.editIsProcessing=!0,n.next=4,d["a"].putSubject(t,e);case 4:if(a=n.sent,i=a.data,c=a.statusText,"OK"===c&&"success"===i.status){n.next=10;break}throw s.editIsProcessing=!1,new Error(c);case 10:"OK"!==c&&"success"!==i.status||(l["a"].fire({icon:"success",title:i.message}),s.editIsProcessing=!1,s.fetchSubjects()),s.toggleIsEditing(t),n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](0),l["a"].fire({icon:"error",title:"Can't not update Subject, please try again later"}),s.editIsProcessing=!1;case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))()},deleteSubject:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var n,a,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!(e.subjects.length>3)){s.next=20;break}return e.deleteIsProcessing=!0,s.prev=2,s.next=5,d["a"].deleteSubject({subjectId:t});case 5:if(n=s.sent,a=n.data,i=n.statusText,"OK"===i&&"success"===a.status){s.next=11;break}throw e.deleteIsProcessing=!1,new Error(i);case 11:"OK"!==i&&"success"!==a.status||(l["a"].fire({icon:"success",title:a.message}),e.deleteIsProcessing=!1,e.fetchSubjects()),s.next=18;break;case 14:s.prev=14,s.t0=s["catch"](2),e.deleteIsProcessing=!1,l["a"].fire({icon:"error",title:"Can't not delete data, please try again later"});case 18:s.next=21;break;case 20:l["a"].fire({icon:"warning",title:"Please keep at least three Subjects"});case 21:case"end":return s.stop()}}),s,null,[[2,14]])})))()},toggleIsEditing:function(t){this.subjects=this.subjects.map((function(e){return e.id===t?Object(i["a"])(Object(i["a"])({},e),{},{isEditing:!e.isEditing,nameCached:e.name}):e}))},handleCancel:function(t){this.subjects=this.subjects.map((function(e){return e.id===t?Object(i["a"])(Object(i["a"])({},e),{},{name:e.nameCached}):e})),this.toggleIsEditing(t)}}},b=p,m=(s("4d33"),s("2877")),v=Object(m["a"])(b,n,a,!1,null,null,null);e["default"]=v.exports},"4d33":function(t,e,s){"use strict";var n=s("196e"),a=s.n(n);a.a},6437:function(t,e,s){"use strict";var n=s("2fa3");e["a"]={getSubjects:function(){return n["b"].get("/subjects")}}},6672:function(t,e,s){"use strict";s("a4d3"),s("e01a"),s("b0c0");var n=s("2fa3");e["a"]={getScope:function(t){return n["b"].get("/admin/scopes/".concat(t))},postScope:function(t){return n["b"].post("/admin/scopes",t)},putScope:function(t,e){return n["b"].put("/admin/scopes/".concat(t),{name:e})},deleteScope:function(t){var e=t.scopeId;return n["b"].delete("/admin/scopes/".concat(e))},getSubject:function(t){return n["b"].get("/admin/subjects/".concat(t))},postSubject:function(t){return n["b"].post("/admin/subjects",t)},putSubject:function(t,e){return n["b"].put("/admin/subjects/".concat(t),{name:e})},deleteSubject:function(t){var e=t.subjectId;return n["b"].delete("/admin/subjects/".concat(e))},getProduct:function(t){return n["b"].get("/admin/products/".concat(t))},postProduct:function(t){var e=t.name,s=t.description,a=t.price;return n["b"].post("/admin/products",{name:e,description:s,price:a})},putProduct:function(t,e){var s=e.name,a=e.description,i=e.price;return n["b"].put("/admin/products/".concat(t),{name:s,description:a,price:i})},deleteProduct:function(t){var e=t.productId;return n["b"].delete("/admin/products/".concat(e))}}},d81d:function(t,e,s){"use strict";var n=s("23e7"),a=s("b727").map,i=s("1dde"),c=s("ae40"),r=i("map"),o=c("map");n({target:"Array",proto:!0,forced:!r||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,s){"use strict";var n=s("23e7"),a=s("83ab"),i=s("da84"),c=s("5135"),r=s("861d"),o=s("9bf2").f,u=s("e893"),d=i.Symbol;if(a&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(p,d);var b=p.prototype=d.prototype;b.constructor=p;var m=b.toString,v="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;o(b,"description",{configurable:!0,get:function(){var t=r(this)?this.valueOf():this,e=m.call(t);if(c(l,t))return"";var s=v?e.slice(7,-1):e.replace(f,"$1");return""===s?void 0:s}}),n({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-75c963d4.6face420.js.map