(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ac7cae"],{3492:function(t,e,r){},6672:function(t,e,r){"use strict";r("a4d3"),r("e01a"),r("b0c0");var a=r("2fa3");e["a"]={getScope:function(t){return a["b"].get("/admin/scopes/".concat(t))},postScope:function(t){return a["b"].post("/admin/scopes",t)},putScope:function(t,e){return a["b"].put("/admin/scopes/".concat(t),{name:e})},deleteScope:function(t){var e=t.scopeId;return a["b"].delete("/admin/scopes/".concat(e))},getSubject:function(t){return a["b"].get("/admin/subjects/".concat(t))},postSubject:function(t){return a["b"].post("/admin/subjects",t)},putSubject:function(t,e){return a["b"].put("/admin/subjects/".concat(t),{name:e})},deleteSubject:function(t){var e=t.subjectId;return a["b"].delete("/admin/subjects/".concat(e))},getProduct:function(t){return a["b"].get("/admin/products/".concat(t))},postProduct:function(t){var e=t.name,r=t.description,s=t.price;return a["b"].post("/admin/products",{name:e,description:r,price:s})},putProduct:function(t,e){var r=e.name,s=e.description,n=e.price;return a["b"].put("/admin/products/".concat(t),{name:r,description:s,price:n})},deleteProduct:function(t){var e=t.productId;return a["b"].delete("/admin/products/".concat(e))}}},bb23:function(t,e,r){"use strict";var a=r("3492"),s=r.n(a);s.a},c587:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container py-5 text-primary",staticStyle:{"max-width":"950px"}},[r("ul",{staticClass:"nav nav-tabs mt-1 mb-4 d-flex justify-content-center"},[r("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[r("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/products"}},[r("h4",[t._v("Products")])])],1),r("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[r("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/subjects"}},[r("h4",[t._v("Subjects")])])],1),r("li",{staticClass:"nav-item w-25",staticStyle:{cursor:"pointer"}},[r("router-link",{staticClass:"nav-link text-center",attrs:{to:"/admin/background/scopes"}},[r("h4",[t._v("Scopes")])])],1)]),r("div",{staticClass:"mb-3 text-center"},[r("ProductAdminM",{on:{refetch:t.refetch}}),r("ProductAdminEditM",{attrs:{productEdit:t.productEdit,editIsLoading:t.editIsLoading},on:{refetchEdit:t.refetchEdit}}),t._m(0)],1),t.isLoading?r("Spinner"):r("div",{staticClass:"overflow-auto",staticStyle:{height:"500px"}},[r("table",{staticClass:"table table-hover text-center overflow-auto",staticStyle:{"max-height":"500px"}},[r("thead",[r("tr",{staticClass:"table-warning"},[r("th",{attrs:{scope:"col"}},[t._v("Product Name")]),r("th",{attrs:{scope:"col"}},[t._v("Number of Questions")]),r("th",{attrs:{scope:"col"}},[t._v("Price")]),r("th",{attrs:{scope:"col"}},[t._v("Edit")]),r("th",{attrs:{scope:"col"}},[t._v("Delete")])])]),r("tbody",t._l(t.products,(function(e){return r("tr",{key:e.id,staticClass:"table-light"},[r("td",[t._v('"'+t._s(e.name)+'" Package')]),r("td",[t._v(t._s(e.description))]),r("td",[t._v("NT$ "+t._s(e.price))]),r("td",[r("button",{staticClass:"btn btn-info",attrs:{type:"button","data-toggle":"modal","data-target":"#productAdminEdit"},on:{click:function(r){return t.fetchProduct(e.id)}}},[r("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1)]),r("td",[r("button",{staticClass:"btn btn-danger",attrs:{type:"button",disabled:t.isProcessing},on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteProduct(e.id)}}},[r("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])])})),0)])]),r("div",{staticClass:"d-flex justify-content-center mt-4"},[r("NavTabs")],1)],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn btn-success",attrs:{type:"button","data-toggle":"modal","data-target":"#productAdmin"}},[r("h3",{staticClass:"m-0 text-center"},[t._v("Create")])])}],n=(r("96cf"),r("1da1")),i=r("8bb1"),c=r("2375"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",attrs:{id:"productAdmin",tabindex:"-1",role:"dialog","aria-labelledby":"productAdminLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog text-primary text-center",attrs:{role:"document"}},[r("div",{staticClass:"modal-content",staticStyle:{"background-color":"#fffbf0"}},[t._m(0),r("h1",{staticClass:"modal-title",staticStyle:{color:"#c03546"},attrs:{id:"productAdminLabel"}},[t._v(" Create Product ")]),r("div",{staticClass:"modal-body mt-2"},[r("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handlePostSubmit(e)}}},[r("div",{staticClass:"form-label-group mb-2"},[t._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control w-75 mx-auto",attrs:{id:"name",name:"name",type:"text",placeholder:"name",autocomplete:"username",required:"",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-2"},[t._m(2),r("div",{staticClass:"form-group w-75 mx-auto"},[r("div",{staticClass:"input-group mb-3"},[t._m(3),r("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{id:"price",type:"number",min:"0",max:"10000",step:"1",name:"price",placeholder:"price","aria-label":"Amount (to the nearest dollar)",required:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])])]),r("fieldset",{staticClass:"form-label-group mb-2"},[r("h5",[t._v("Number of Questions")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"custom-range w-75 mx-auto mt-2",attrs:{type:"range",id:"description",name:"description",required:"",min:"0",max:"200",step:"1"},domProps:{value:t.description},on:{__r:function(e){t.description=e.target.value}}}),r("h5",{staticClass:"m-0",attrs:{for:"description"}},[t._v(t._s(t.description))])]),r("button",{staticClass:"btn btn-primary btn-block mt-4 mb-3 w-25 mx-auto",attrs:{type:"submit",disabled:t.isProcessing}},[r("h5",{staticClass:"m-0 text-center"},[t._v("Submit")])])])])])])])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-end"},[r("button",{staticClass:"close m-0 mr-3 mt-3",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"name"}},[r("h5",[t._v("Name")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("label",{attrs:{for:"price"}},[r("h5",[t._v("Price")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[t._v("$")])])}],d=(r("a4d3"),r("e01a"),r("b0c0"),r("6672")),l=r("2fa3"),p=r("1157"),m=r.n(p),f={data:function(){return{name:"",price:"",description:0,isProcessing:!1}},methods:{handlePostSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isProcessing=!0,e.next=4,d["a"].postProduct({name:t.name,description:t.description,price:t.price});case 4:r=e.sent,a=r.data,s=r.statusText,"OK"===s||"success"===a.status?(t.isProcessing=!1,l["a"].fire({icon:"success",title:a.message}),m()("#productAdmin").modal("hide"),t.name="",t.price="",t.description=0,t.$emit("refetch")):"OK"===s&&"error"!==a.status||(t.isProcessing=!1,l["a"].fire({icon:"error",title:a.message}),m()("#productAdmin").modal("hide")),e.next=17;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isProcessing=!1,l["a"].fire({icon:"error",title:"Can't not submit, please try again later"}),t.name="",t.price="",t.description=0;case 17:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},b=f,v=r("2877"),g=Object(v["a"])(b,o,u,!1,null,null,null),h=g.exports,x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade",attrs:{id:"productAdminEdit",tabindex:"-1",role:"dialog","aria-labelledby":"productAdminEditLabel","aria-hidden":"true"}},[r("div",{staticClass:"modal-dialog text-primary text-center",attrs:{role:"document"}},[r("div",{staticClass:"modal-content",staticStyle:{"background-color":"#fffbf0"}},[t._m(0),r("h1",{staticClass:"modal-title",staticStyle:{color:"#c03546"},attrs:{id:"productAdminEditLabel"}},[t._v(" Edit Product ")]),r("div",{staticClass:"modal-body mt-2"},[t.editIsLoading?r("Spinner"):r("form",{staticClass:"w-100",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleEditSubmit(e)}}},[r("div",{staticClass:"form-label-group mb-2"},[r("label",{attrs:{for:"name"}},[r("h5",[t._v("Name")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control w-75 mx-auto",attrs:{id:"name",name:"name",type:"text",placeholder:"name",required:"",autofocus:""},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),r("div",{staticClass:"form-label-group mb-2"},[r("label",{attrs:{for:"price"}},[r("h5",[t._v("Price")])]),r("div",{staticClass:"form-group w-75 mx-auto"},[r("div",{staticClass:"input-group mb-3"},[r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[t._v("$")])]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{id:"price",type:"number",min:"0",max:"10000",step:"1",name:"price",placeholder:"price","aria-label":"Amount (to the nearest dollar)",required:""},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})])])]),r("fieldset",{staticClass:"form-label-group mb-2"},[r("h5",[t._v("Number of Questions")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"custom-range w-75 mx-auto mt-2",attrs:{type:"range",id:"description",name:"description",required:"",min:"0",max:"200",step:"1"},domProps:{value:t.product.description},on:{__r:function(e){return t.$set(t.product,"description",e.target.value)}}}),r("h5",{staticClass:"m-0",attrs:{for:"description"}},[t._v(" "+t._s(t.product.description)+" ")])]),r("button",{staticClass:"btn btn-primary btn-block mt-4 mb-3 w-25 mx-auto",attrs:{type:"submit",disabled:t.isProcessing}},[r("h5",{staticClass:"m-0 text-center"},[t._v("Submit")])])])],1)])])])},C=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-end"},[r("button",{staticClass:"close m-0 mr-3 mt-3",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])])}],_=r("5530"),P={components:{Spinner:c["a"]},props:{productEdit:{type:Object,default:function(){return{name:"",price:"",description:0}}},editIsLoading:{type:Boolean,default:function(){return!0}}},data:function(){return{product:Object(_["a"])({},this.productEdit),isProcessing:!1}},methods:{handleEditSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isProcessing=!0,e.next=4,d["a"].putProduct(t.product.id,{name:t.product.name,description:t.product.description,price:t.product.price});case 4:r=e.sent,a=r.data,s=r.statusText,"OK"===s||"success"===a.status?(t.isProcessing=!1,l["a"].fire({icon:"success",title:a.message}),m()("#productAdminEdit").modal("hide"),t.$emit("refetchEdit")):"OK"===s&&"error"!==a.status||(t.isProcessing=!1,l["a"].fire({icon:"error",title:a.message}),m()("#productAdminEdit").modal("hide")),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isProcessing=!1,l["a"].fire({icon:"error",title:"Can't not submit, please try again later"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},watch:{productEdit:function(t){this.product=Object(_["a"])(Object(_["a"])({},this.product),t)}}},y=P,w=Object(v["a"])(y,x,C,!1,null,null,null),S=w.exports,k=r("ee21"),E={name:"Background-product",components:{NavTabs:i["a"],Spinner:c["a"],ProductAdminM:h,ProductAdminEditM:S},data:function(){return{products:[],isLoading:!0,isProcessing:!1,editIsLoading:!0,productEdit:{}}},created:function(){this.fetchProducts()},methods:{fetchProducts:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k["a"].getProducts();case 3:r=e.sent,t.products=r.data.products,t.isLoading=!1,e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),l["a"].fire({icon:"error",title:"Can't not get products data, please try again later"}),t.isLoading=!1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},fetchProduct:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d["a"].getProduct(t);case 3:a=r.sent,e.productEdit=a.data.product,e.editIsLoading=!1,r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),l["a"].fire({icon:"error",title:"Can't not get products data, please try again later"}),e.editIsLoading=!1;case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},deleteProduct:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(e.products.length>2)){r.next=20;break}return e.isProcessing=!0,r.prev=2,r.next=5,d["a"].deleteProduct({productId:t});case 5:if(a=r.sent,s=a.data,n=a.statusText,"OK"===n&&"success"===s.status){r.next=11;break}throw e.isProcessing=!1,new Error(n);case 11:"OK"!==n&&"success"!==s.status||(l["a"].fire({icon:"success",title:s.message}),e.isProcessing=!1,e.fetchProducts()),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](2),e.isProcessing=!1,l["a"].fire({icon:"error",title:"Can't not delete data, please try again later"});case 18:r.next=21;break;case 20:l["a"].fire({icon:"warning",title:"Please keep at least two products"});case 21:case"end":return r.stop()}}),r,null,[[2,14]])})))()},refetch:function(){this.fetchProducts()},refetchEdit:function(){this.fetchProducts()}}},j=E,O=(r("bb23"),Object(v["a"])(j,a,s,!1,null,null,null));e["default"]=O.exports},e01a:function(t,e,r){"use strict";var a=r("23e7"),s=r("83ab"),n=r("da84"),i=r("5135"),c=r("861d"),o=r("9bf2").f,u=r("e893"),d=n.Symbol;if(s&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(p,d);var m=p.prototype=d.prototype;m.constructor=p;var f=m.toString,b="Symbol(test)"==String(d("test")),v=/^Symbol\((.*)\)[^)]+$/;o(m,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=f.call(t);if(i(l,t))return"";var r=b?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),a({global:!0,forced:!0},{Symbol:p})}},ee21:function(t,e,r){"use strict";var a=r("2fa3");e["a"]={getProducts:function(){return a["b"].get("/products")}}}}]);
//# sourceMappingURL=chunk-56ac7cae.273cbd37.js.map