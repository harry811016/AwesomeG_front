{"version":3,"sources":["webpack:///./src/apis/orders.js","webpack:///./src/views/Order.vue?0dfb","webpack:///./src/views/Order.vue?f8a1","webpack:///src/views/Order.vue","webpack:///./src/views/Order.vue?81a5","webpack:///./src/views/Order.vue"],"names":["getOrders","apiHelper","get","getPayment","orderId","postOrder","create","formData","post","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","name","params","id","userId","_v","_l","order","key","_s","_f","createdAt","Product","description","amount","Number","payment_status","_e","staticRenderFns","components","NavTabs","Spinner","data","orders","isLoading","created","fetchOrders","methods","filters","filterDate","Date","datetime","toLocaleDateString","timeZone","component"],"mappings":"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","file":"js/chunk-bf6e7bb0.0e20fdc9.js","sourcesContent":["import { apiHelper } from './../utils/helpers'\n\nexport default {\n  getOrders() {\n    return apiHelper.get('/student/orders')\n  },\n  getPayment({ orderId }) {\n    return apiHelper.get(`/student/order/${orderId}/payment`)\n  },\n  postOrder: {\n    create({ formData }) {\n      return apiHelper.post('/student/order', formData)\n    }\n  }\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container py-5 text-primary\",staticStyle:{\"max-width\":\"950px\"}},[_c('ul',{staticClass:\"nav nav-tabs mt-1 mb-4 d-flex justify-content-center\"},[_c('li',{staticClass:\"nav-item w-50\",staticStyle:{\"cursor\":\"pointer\"}},[_c('router-link',{staticClass:\"nav-link text-center\",attrs:{\"to\":{name: 'user', params: {id: _vm.userId}}}},[_c('h4',[_vm._v(\"My Information\")])])],1),_c('li',{staticClass:\"nav-item w-50\",staticStyle:{\"cursor\":\"pointer\"}},[_c('router-link',{staticClass:\"nav-link text-center\",attrs:{\"to\":{name: 'orders', params: {id: _vm.userId}}}},[_c('h4',[_vm._v(\"My Orders\")])])],1)]),(_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"overflow-auto\",staticStyle:{\"height\":\"500px\"}},[_c('table',{staticClass:\"table table-hover text-center overflow-auto\",staticStyle:{\"max-height\":\"500px\"}},[_c('thead',[_c('tr',{staticClass:\"table-warning\"},[_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Order Date\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Product Name\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Number of questions\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Amount\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Payment Status\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Get Payment\")])])]),_c('tbody',_vm._l((_vm.orders),function(order){return _c('tr',{key:order.id,staticClass:\"table-light\"},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(_vm._f(\"filterDate\")(order.createdAt)))]),_c('td',[_vm._v(\"\\\"\"+_vm._s(order.Product.name)+\"\\\" Package\")]),_c('td',[_vm._v(_vm._s(order.Product.description))]),_c('td',[_vm._v(\"NT$ \"+_vm._s(order.amount))]),(Number(order.payment_status))?_c('td',[_vm._v(\"Paid\")]):_c('td',[_vm._v(\"Unpaid\")]),_c('td',[(!Number(order.payment_status))?_c('router-link',{attrs:{\"to\":{name: 'payment', params: {id: order.id}}}},[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\"}},[_vm._v(\"Payment\")])]):_vm._e()],1)])}),0)])]),_c('div',{staticClass:\"d-flex justify-content-center mt-4\"},[_c('NavTabs')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container py-5 text-primary\" style=\"max-width:950px\">\n    <ul class=\"nav nav-tabs mt-1 mb-4 d-flex justify-content-center\">\n      <li class=\"nav-item w-50\" style=\"cursor:pointer\">\n        <router-link :to=\"{name: 'user', params: {id: userId}}\" class=\"nav-link text-center\">\n          <h4>My Information</h4>\n        </router-link>\n      </li>\n      <li class=\"nav-item w-50\" style=\"cursor:pointer\">\n        <router-link :to=\"{name: 'orders', params: {id: userId}}\" class=\"nav-link text-center\">\n          <h4>My Orders</h4>\n        </router-link>\n      </li>\n    </ul>\n    <Spinner v-if=\"isLoading\" />\n    <div v-else class=\"overflow-auto\" style=\"height:500px\">\n      <table class=\"table table-hover text-center overflow-auto\" style=\"max-height:500px\">\n        <thead>\n          <tr class=\"table-warning\">\n            <th scope=\"col\">Order Date</th>\n            <th scope=\"col\">Product Name</th>\n            <th scope=\"col\">Number of questions</th>\n            <th scope=\"col\">Amount</th>\n            <th scope=\"col\">Payment Status</th>\n            <th scope=\"col\">Get Payment</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"order in orders\" :key=\"order.id\" class=\"table-light\">\n            <th scope=\"row\">{{order.createdAt | filterDate}}</th>\n            <td>\"{{order.Product.name}}\" Package</td>\n            <td>{{order.Product.description}}</td>\n            <td>NT$ {{order.amount}}</td>\n            <td v-if=\"Number(order.payment_status)\">Paid</td>\n            <td v-else>Unpaid</td>\n            <td>\n              <router-link\n                v-if=\"!Number(order.payment_status)\"\n                :to=\"{name: 'payment', params: {id: order.id}}\"\n              >\n                <button type=\"button\" class=\"btn btn-success\">Payment</button>\n              </router-link>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div class=\"d-flex justify-content-center mt-4\">\n      <NavTabs />\n    </div>\n  </div>\n</template>\n\n<script>\nimport NavTabs from \"../components/NavTabs\";\nimport Spinner from \"./../components/Spinner\";\nimport ordersAPI from \"./../apis/orders\";\nimport { Toast } from \"./../utils/helpers\";\n\nexport default {\n  name: \"User\",\n  components: {\n    NavTabs,\n    Spinner,\n  },\n  data() {\n    return {\n      orders: [],\n      userId: \"\",\n      isLoading: true,\n    };\n  },\n  created() {\n    const { id: userId } = this.$route.params;\n    this.userId = userId;\n    this.fetchOrders();\n  },\n  methods: {\n    async fetchOrders() {\n      try {\n        const response = await ordersAPI.getOrders();\n        this.orders = response.data.orders;\n        this.isLoading = false;\n      } catch (error) {\n        Toast.fire({\n          icon: \"error\",\n          title: \"Can't not get orders data, please try again later\",\n        });\n        this.isLoading = false;\n      }\n    },\n  },\n  filters: {\n    filterDate(datetime) {\n      return new Date(datetime).toLocaleDateString(\"zh-TW\", {\n        timeZone: \"Asia/Taipei\",\n      });\n    },\n  },\n};\n</script>\n\n<style >\n@media (min-width: 370px) {\n  table {\n    font-size: 0.6rem;\n  }\n}\n@media (min-width: 576px) {\n  table {\n    font-size: 0.8rem;\n  }\n}\n@media (min-width: 760px) {\n  table {\n    font-size: 1rem;\n  }\n}\n@media (min-width: 1200px) {\n  table {\n    font-size: 1.3rem;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=9565ab16&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}